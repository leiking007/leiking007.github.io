{{ define "main" }}
<section class="mx-auto mt-6 grid max-w-[90rem] gap-6 px-4 lg:px-6">
  <main class="col-span-12 lg:col-span-8 lg:col-start-3">
    <div class="p-6 rounded">
      <div class="grid w-full grid-cols-1 my-auto mt-12 mb-8 md:grid-cols-2 xl:gap-14 md:gap-5">
        <div class="flex flex-col justify-center col-span-1 text-center lg:text-start">
          <div class="flex items-center justify-center mb-4 lg:justify-normal">
            <h4 class="ml-2 text-sm font-bold tracking-widest text-tl-primary uppercase">
              {{ partial "icons/icon" (dict "path" "common/logo" "className" "text-3xl" "processAttrs" false ) }}
              {{.Title}}
            </h4>
          </div>
          {{ with .Site.Params.subtitle }}
          <h1 class="mb-8 text-4xl font-extrabold leading-tight lg:text-6xl">{{- . -}}</h1>
          {{ end }}
          {{ with .Site.Params.describe }}
          <p class="mb-6 text-tl-base font-normal leading-7 lg:w-3/4 ">{{- . -}}</p>
          {{ end }}
        </div>
        <div class="items-center justify-end hidden col-span-1 md:flex">
          <img class="w-4/5 rounded-md" src='{{ relURL "images/background-2.jpg" }}' alt="header image">
        </div>
      </div>
    </div>
    {{/*  获取常规页面  */}}
    {{ $pages := where .Site.RegularPages "Type" "in" .Site.Params.mainSections }}
    {{/*  获取所有页面，并且 hidden != true  */}}
    {{ $notHidden := where .Site.RegularPages "Params.hidden" "!=" true }}
    {{/*  两数组公共部分  */}}
    {{ $filtered := ($pages | intersect $notHidden) }}
    {{/*  分页  */}}
    {{ $pag := .Paginate ($filtered) (index .Site.Params.pagination "index_paginate" | default 9) }}
    <div class="prose max-w-none prose-h1:my-4 prose-h2:my-3 prose-h3:my-2">
      {{.Content}}
    </div>
    <div>
      <div class="space-y-6">
        {{ range $index, $element := $pag.Pages }}
            {{ .Render "summary" }}
        {{ end }}
      </div>
      {{ partial "pagination.html" . }}
    </div>
  </main>
</section>
{{ end }}

